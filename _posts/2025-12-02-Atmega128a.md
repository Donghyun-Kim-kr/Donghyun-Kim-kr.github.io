---
title : [AVR] timeTimer Style Device Project by ATmega128a 
data : 2025-12-03 00:48:00 +0900
categories : [MCU/Firmware, AVR]
tags : [AVR, MCU, ATmega128a]
---

# timeTimer

[Visit Time Timer]([Time Timer® | Visual Timers For Time Management | Countdown Timer](https://www.timetimer.com/?srsltid=AfmBOop0CB90msF8rbxT_zSXVAaNW0Kep0LnjKclLkDFa2fgu6r4Y6Hi))

Time Timer is Timer with time setting feature by rotate the knob.

You can see remain-time intuitively.

<img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxAQEhUQEBAWFRUVFRYXFRUWExAWFRYVFRUXFxUYGBYYHSggGBolHRUVITEhJSkrLi4uFx8zODMsNygtLysBCgoKDg0OGhAQGyseHyUvLS0tLS4tLS0tLS41LTAtLTAtLy0tLS0vLSsuLS0tMC0tLTItLS0tLi0tLy0tKzUtLf/AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAABwECAwUGBAj/xABOEAACAQMCAgUHBgsFBwMFAAABAgMABBESIQUxBhMiQVEHMlJhcYGRF0J0k6GxFCMzNlNzkrKz0dM1YoLS8HKDoqPBw/EVJuEkQ0RUY//EABsBAQACAwEBAAAAAAAAAAAAAAABAwIEBQYH/8QANREAAgECBAIHBgUFAAAAAAAAAAECAxEEEiExQVEFE3GBodHwFCIykbHhFSM0QmEGM1LB8f/aAAwDAQACEQMRAD8AnGlKUApSlAKUpQClKUApSlAKUpQClKxXE2kbDJJwB4nBP3An3UBlpXhuLkx4DzwqT5oYack8gMvvvWZhKBnWn1bf56E2Z6KV5y7pgsVYEgHClSMnAO5ORkjwxWfNCCtKoWA5mjMBzOOQ95OB9tAVpSlAKUpQClKozAczjkPeTgfbQFaUpQClKUApSlAKUpQClKUApSlAKUpQClKUArQ9M7yWGAPD5+sBdtRGpWBIHecE1vq5fyiMRagjmJUI9oyRWE3aLLsOk6sU+a+pHtikrXCO4dm62MszBifPG7E+zvqYVv4TuJkPsdPEDx8WUe0ioU/9elR131AMpYYUZCsDpBA25VvJ+mtq7Bm4cSQSQfwl+ZJJ+b4nPw8BWtQnGKd2drH4OvWcXCN7fz52JLnukcYR0bzSdLAkDUMbDupe2bOwYNp2AOCwbHWIzAEbjIUj31yfQ/jEN11vVWpi6sRZJmaTIdgoGCBjaIfCu5raTUldHFqU50J5ZKzRpxw6crhpMthMPrfYqgBwmMecC2rnvSewuJCpZhtIjFRJJhQkiMQOyOsyFI3xj31uK0HG+BdbI8saR62t5EVmUE9awCoTlTtp1DO+xxRoypzzS1du4z2lhcqULy6sMS2ZHwwwoJ0hRucNhc6V1d/dkuLOdndg/ZOML1ki5A094GYz52SvPavALLiYkZhcrpJfSpEZUBjc6M4jDEAG021fNfc9+S74VPPYywTMrzMkmhiAArkHqzlRtg4OQM1HDYzatJXlHu9LYzz2FwwIWTBL51CWTJXD6RgqQunK8s69OTV62c4fOvbrS2DJIewSNiABnAyAuwHfqNeCThF2kjfg0qQxFwQqLEDpC2aAEGM8ljufindyq1nxLBAuF/IlQcJnrdLAMTo550nYY2Ix4u4m10vej4ntueHzEyGOTGtww/GSjH4oJy3xhhqwNmzvyrJf8OaR86jgiMHtyD8nMshwo2yQCNWxGB47ZLfh4iLyKWd2XfUQNRA78Dvx4bd3hXOx8N4jbqI1m19ZMHZk7JUvDKZgTIsgVOsWNgcc3IwoxRkQ97aSVufH/hvbGznSQM8pZQgGNTcwqg5UjB3DNqzntY5Vs60PCEvuvYzvmNeyRhQrN1cPaRdAYDX125Y88Y9HfVkimqmnq09OApSlSVClKUApSlAKUqyaVUUu7BVUEszEAADmSTsBQF9K4TjflRsoCViBlI+dkoh9hwWPt04Pca5ifyyPnsRIB60ZvtEo+6gJipUMfLHN6EX1T/1qfLHN6EX1T/1qAmelQx8sk3oRfVP/AFqfLJP6EP1b/wBagJnrWdI+EC8gaDVpJwVbGcMORx4fzqKvlkn9CL6p/wCtT5ZJ/Qh+qf8ArUaurGUZOLUluj3HyZ3v6SH9qT/LT5NL39JD+1J/lrxjyv3J3EUR/wBzJ/WrH8slx6EP1Un9aquohyOj+LYrmvkiROiXRtrOHqmK6mfXKwJOogjSqjGygAc/XsM7dNUK/LHc90cP1Un9aq/K/d/oovqZf6tWqNlZHPqVJVJOcndsmmlQqfLBd/o4fqpP6tU+V+8/RxfVSf1aWMCa6VCnyu3v6KL6qT+pVD5Xb0bmKID1wy4/iCpsCbKVFfCPLFGxAubfA9OJgf8Agbu/xE+qpG4Pxe3u4xLbSrIvfjIKnnhlO6tuNiAagHupSlAKUpQClKUApSlAKUpQGO4nSNWkdgqIpZmJwFVRkknuAANQd0j6SXfHLkWtmpEWcxocqNKn8tN4dxAPm7ADVXU+W/jhigis0ODcFmk/VRaTp/xOye0Kw762fkv6OLaWiyOv46cLI5I3AIzGnuB5ekzVKBg6N+TOztwHuFFxL3tIMoD/AHYztj1tk+zlXZQ2MaDCIFHgAAPgK9FVqSDF+Dr4U/B18Ky0JoDF1C+H2mqmFe/7zQTAnAYZ8MjPwq4LQGLq17gT8fvqnVeC/Fv5Zr0UoDz9WfR/42/lREOcFcbcwxP/AEqNONq8qcR4j10izWd11dviRwiJCYwRoBwQ+ps55/HMnxNqAbxAPx3oCvVD1/E06sev4mr6UBZ1Y/0TTqx/omrJrqNNnkRSeQZlX7zVknEIF86aMZAIzIg2O4O55UBm6sVQxCr6UBzXH+hFjeA9ZAofukQBJAfHUBv7GyPVUVX9jfdH7pZo31RsdKyYOiQDJ6qZfHGSPeVIIOJ6rWdIuDxXkElvKMq64z3qeasv95SAR6xQF/Rjj0XELdbmLYHZ0PNHHnKfsIPeCDyNbaoS8kfEJLPiEnD5jjWXjYb466DUQwzyBVZN+/KeAqbahkilKVAFKUoBSlKAUpSgIN8rg67i8cLHs9RAvs6yaXUfbjHwFTUgAGBUK+U/+24/1Vr/ABZKmsVKBWq1SlSQM0ApVaAi3g9iLC7SS94Woae+lWK8EyM/WTu7Rfil5KVJGSc88ipSrmrfocgnSeW7uZxHI0sUU0itGkjEnUOyCdOTpydqtvemUMaeYTKCVaMHIUqxDZfkQcHBA5EHHdWMpKOrLaVGpVllpq7Onq1mAGScAcz3VGd/0uu5D2X6tcY0p9m53z6xitLNcO/nuzbk9pidycnn7aoeJXBHYpdBVZK85JePkdzxPoelxNJpu2WCd0kubZVjYSMhGCHzlAdIyAN/hjrFYEnHccH1HAOPgR8a4Pycn8dL+rH7wrungBDjca85IO+SoXI8DgD4VdTnnjc5mMw3s9V073tYyCq1jZDlcHAXJIHfsQB7NyfaBWKa6EaySS9lEyc750KoJJHt1YHqHjWZqnGdN+CzyXa3YsYbuGO0ZSk0iqA4k1kgEHLaRgd25yRtnQXtvlX4p/6Vbz2bWtsyRyOgMMcaFZEjXSdxn1DCjGc4HbcU6NLf6Jpprq3ZowskMVyVQqckxyLgqT2iCRjPLJrFe9A7SUgGW5WEKim2S5kFu6xqFUNGcnGFHIjffnvQHTW8odVdeTKGGeeGGR99X0UADAGANgByApQCqGq1Q0BCPHgYOkSMnz7mz/5ghjf49r41OtQZ0t/OCH6TY/vw1OdQyRSlKgClKUApSlAKUpQEGeVH+24/1Vr/ABpamwVCvlQOOORH/wDla/xpampalArWvm43aJEJ3uoViYlVlM0QjLAkEBycEggjGe4+Feq8tEmRopASjgqwDOpIPPtKQR7jUReTu0juX4fDcxrJEtleuiOoZesa+dXOk7Z04qSCYkYEAgggjIIOQQeRB7xVJZVRSzEKqjJJOAAOZJrlPJYxPDYRqLKrzIhJzmNJ5FTfvAAx7q0PTLpB+EP1UZIjQkHfz2zvnBwVBAx8fCq6k1BXNzBYOWKqZVouL5F3SPpY9x2IdUcfInJDPnnnHJfV/PFc1VuaZrQlJyd2e1oYanQhkgrL1uVJpmqZqlYlx2Pk2/LS/qx+8KkGo98mv5aX9WP3qkKt+h8B4zpn9XLu+grDc2ySAK66gGVgDnGpGDIfXhgD7hWaqVccsxuuCXJOAvmgE+tjgecdhjbuOOZq6JiQCV0k9xIJHqONs+z7aurDKoB6w6jgYAAJAzzIUDJY8s74HLGTkDNWsuukNjFJ1Mt5AkoIBjaaJXBYAqNJOckMMe0VsUJIBIIyORxkeo4JHwNRr0ptLnh893xRrayntzJA7daGa4CKkcOIyRpRg2+5OdvZQHfycXtlmFs1xEJm5RGRBIcjIwmc8gT7q9hqHeKRK3D+JXekG6Tip6tyo6xWSeFYlU8wApOB6zUxNQEJdK/zhi+k2P70FTpUFdKfzhj+k2P3wVOtQyRSlKgClKUApSrUcMMqQR4ggigLqVQsAQCRk8h41WgIM8qxxxqP9TbfxpamsVCflY/tqP8AUW38aWpsFSiGXCuZfoJYmCG3CyKsBk6p0lkWVRKxaRdYOSrEnINdLVakHFdLTDY20UFqzRMqmONEkbAiPnl0JIbOMaj2skkEb54Ba3nTa/M104PKL8WuDkdnOo+3JPwrRA1z6080j3HRWGVHDrm9X/r5Ivpmrc0qo6Jdmq1ZmmaCx2Xk1/LS/qx+8KkKo88mn5aX9WP3hUh1v0PgPF9M/q5d30FKUq45QpSlAauG1KyLLc3Gp8kRopMcS52wseSZGwfOYt3kBQcV4bzoTYTTm5kjdmZ1kdTNN1TuoAVmi1aSQFUYxjblW/kyN1UFuQ3x8T3D41cucDIwe8A5Ge/BwM/CgNDc9DrGS5/DHiJk1rIRrkEbSIMI7R50lh44rfUqlAQl0m/OKP6TY/8AYqdagvpL+cUf0ix/7FTpUMkUpSoApSlAcv01LMFjVivYJyo7QdpI40PfsA0m2k8h7Dggv5LaEdShy0srYaNzpRZFjCnB55Zd+8Kx5DNe/jlujyZddX5IYOSMozSA6TtkHSc+oeAryPwsEwqqqFzCcdoHPXNcS+rfCnl478sc/wBr/OlFcNO+5elNRXFcuBqPKBOzSKAzqVkijTCHnpaWTSRvlgYwCM4K8uZrJ0b4/ci5eCRg8CLIzSNliqxKuohh3anQYbcjUaycXs45bmJsY0mSdiMdoZXAbuOQiDxwu2K1nD7QW9s7zZd7uQKCupSYYySCdGNBJ1bjAO1Y0sZnm0np6t4szyVFFRdrPnwI56S8UN3xPryc6jFgaSulQ50oQc9pQQDg4zn2V9FioS6a3iqbW2RiyiUSLqcOyhcJgt5xyWbnz01NM9ukqGOQalcFWG+6nYjaulD4d7mvNJOydzXXHSawjVXe8gVXLhGM0YVjGdLhTnfSSAfDNe6O9ieITJIrRldQkVlKlfENyNRd0c6PXU9vaTWgtT1D8QTRcrI6Ykn7JCKN8aMcxjOd66rgvSFrnhkdzHZt+MjlVlhNuI4jGXjZu3IvYypIC6j7e+XsRGN5JEdyylyXY5LEsT6ycn76sqimlcs+kpWVi4Gq1aKuoBVM1dWOShB2Xkzb8dL+rH74qRM18zjj93DKzRTPEQxHYONgds+kORwciu/t/KneaFzYxs2BlutKAnx0429ma36doQV2eIx7lisVN0ot202vtpwJaFVribDyiQtGplgkWQjtqnVsgPqYsCR7qzfKDbfoZf8Al/5qy62HMrXRmLf7GdhSuNPlBg/QSfGP+dWHyhw//rv+0lR10OZP4Vi/8H4eZ2jDIIzj1jGR699qw2siEdiQPvudStv7th7K48+USPutm+sUf9K2dr0oeS3kuhZyFUSRgFdHLMgyECjtEk4HLvrKNSMnZMqr4HEUI56kbLtXmbUcXt+va161euSPrGj31LHt2j+0vxFeLhPSywu5OptrpJJNJbSurOkYydx6x8ajzodODxEGQy9fc2U/Xs8E6ATyTK+AHAxEiIEDeb2QM5Nbzoy91w+4suHSSwTxTQyhDFGVaMQoGVmfUdSsNs43J9W+ZqHKdI/zij+kWX3QVOlQX0h/OOP6RZfuw1OlQyRSlKgClKUBznFJj1mwzqdx7NMeM/Fce+vSzYckfNEhHtULEv3mvIe1Kpxt52e4a5Mn7Kydbvg94Un1Y1SN9pSvNqazOfN379fNG8k9vVjVzIWklCnBYx28ftA1MR7if2TWO8tzLKDGcJEojjwxUgbDwIYEAHHrrIJQNJJ7QR5Md4aYlVPqwnWj/FWW3hcqETz25HwLcifUNz/hrXhNpxUN3r5LxfgWzipJqW3ryIh6auDxNcZxpiCk94WV1J9faDb+qvoZagvyqWyxcVgjQYVLa3UewSzc/E1Oa16mjFxgovU502nLTY5y66CcOkRI2hYBDIV0z3Ckdc2uUZD5Kse41uY+Hxxwfg8KiNAhRFA2UEY8d+deyqEZ2NWGKdtSB8EbHn31dmtl0lsxDdSoFwussu2BpbcYHgM491a2uY1Z2Po9KoqkFNbNXKiq1QVUVBmVq1xVaUINVPYgtqwKzpbV7StAKyuYqEU20tyyMYq/NMVSoMyoNUIpTNAVFSt0EhKWcZJPaLtjbYFyB8QAffUUxoWIVRkkgAeJOwFTXwq0WGGOJRjSig7AEkAAk4762MOtWzz/APUFRKlGHN3+S+5SbhkDyGZ4lZzE0JYjOYWOpkIOxUkeFeHgvRWwsnaS1tUjdgQWGonBIJALE6RsNhgbCt1VK3DyhCfSH844/wBfZfuw1OlQX0j/ADij+kWX3Q1OlQyRSlKgClKUBy0shU4UZOqNMctiApPuBJ91Y2OppyO9hGPfpU1Htrwm9PaHE5u85ZpiBhQ2okvsN8k9wKnmcCi8LuSgdr+TB1MRh87NjnrxqPL1NtnGWrzfstO1us0vyfridBVJL9vr0jsuIToJW1EBQyR5Owwu/Pw3q2y6bWMVykTuSZdSq66CiEMFUNvnLdwUEneo3uuDllBeZySAd8HcgHm2e7v8Dk+awGz6E8Eii4lZEDWzNIxZ9LEKsErKVGML2gmCPDI54rawWCgqmdSvbXaxjXqvJZq3ePLB/bEf0eD+NNU2CoT8r654xEPG3tx8Z5qmwV20aLPFxvigtYjMYZZd1URwxl5GZjgYHIDJ5kgVz48oFuYwRbXBnMzQC06tfwjrFXW22rTpCkNqz317enfSA8PtGmQoJGdIozISI1eQ+c+NyqqGbHfpxXCWdzY21zZXy3v4RGJLoXl42cC5uIUEbMAMIpCFQBsAKkg2vSmSO/to+JW4YKuY5EdNMiFXYESDJwVbbA9LOSK44Gu/6AcLiubea4lQvHPe3k0AbWF6qV1Cv1Z2J7BKsRkBjgjJzynSDg72kpjYHScmNjjtJnbltnlkfzrTxELPMj1nQeNUodRLdbfyvt9Ow1oNVFUpWsegLqVSlCCtKpVaAVaauqhoClUqtZrS1eZ1ijXLMcAf65Dmc+qpIckldm+6A8MM9wJfmw4Y5GcsT2Bjx2Jz3aRXb2HSq1mnubdC2bQZlkOnqu/Vhg2TpKsDkDkedeCfgb2tkTZwB7xEIRtSKxkkwrnUSAUAOoKxx2F78VxfDLCdWvbJLOSNzwsRkNLA7lsTEOxRjqMrs3LkeddClDLE8J0li/aa7ktlouz7nd8A6Z295KIUiniLIZITNFoWeNTgvGcnI3BwcHBz446Oow4HxCK9u+DC1cMbS0nNyq5/FareOFUbwOsHb31J9WGgQl0l/OKP6RY/9mp1qCek/wCcUX0ix++Gp2qGSKUpUAUpSgIg4dcYVsZzpOMNy+cCW/xZz3Fi2+sAX8QAWLqxn5kZGM4Azq7PsUrp9TRnzSa8NvOCOsHcQH7QyNzvnlz3zy3LcitOITZZAeQDHvxk4Hf/AHVHuAzusleZW51HG7MSprkVcZyRnfVz3O557b+J1A4zIwre9F4geMJjktvM/nFgCDGjb8mb8ZuR41qOGZOqXw27s5bJ8QNWAefLLtsVFdD5PsSX8z98drGuxyPx0hbHIY/JV28HDLTvzNPESvK3I5LywNjjER8Le3PwnnqbBUJeWT+14/o0H8eepuFbiNYoyA8wD7QDVOpXBGkYPMYGD7R31fSpAFa/jfB4ruPq5c7ZKsOat6QHf/5rYVznF+l8drK0cttcdWjIslz1QECGTGntEgsO0MkA7nG5qGr6GcJyhJSi7NEdcY4TNavolXGfNb5rD1Hx8R3V4KktePRX8jWrcOuHjWaSJpikfUK8ZZGbUHyORwcZGe6ue4h0KnCtNCMrqbTExHWhAxCHI2YsN8bEZA3NadSg1qtT1mB6ap1Eo1vdlz4PyOVpWW5t3jbRIjI3gykH7axVQdxNNXRWmaVXFQClVqqKSQACSeQAyT7BXQ8K6G3U+dY6keLg6uWRhOfxxWUYuWxRXxFKis1SSRo7S1eVxHGpZzyA5/8AwPXUm9FOjS2iiRxmY51HOyj0Vwd178nntsMYGsF0nC44yvDLiRzC0kzxiN9AXHWK0hIB33CjGQM4r3XnTONTAtvbT3JuIPwhBEseRFkDLB2BHnCtylRy6vc8p0j0tLEfl09I+L+x09W6BnOBnlnAzj21js5jJGjlGQsqsUfGtCwBKtgkahnBx4Vmq84xjjhRSSqqCxyxAALHxOOZq+q1SgIR6Un/ANxRfSbH96Gp2qCulQ/9ww/SLH96Gp1qGSKUpUAUpSgINtXK9sj+7IukH1atPLGxBHLYjlGuacVjJU6c7bjxKnGcZ7+0v7SH/wC5Jj1zqFJcYwOYz2TGwHP1A/8ADtvzrFKmewN8DKZOdSnOpCe/zmB/2mPzxjzSetzr3PVZx6YlU8yNTeADAEkjvGkJz+aqcixrpPJeuqS9nwd2hjycco1ZuQ5flTtXOC4EiGQcwNwcjc/OIG5GS23exxtprq/JNDi2nf8ASXTncAeZHFF3bc4yffXoqdsqtscud8zuR/5auzxWNjy/BYd/ZNPmpuFRd5eOFEi3u1GyloX2Pzu3GT4DsyD2sK7PoLxkXllFLnLBQkniJEADZ9uzexhViK2b+q1Sq1IFRt0l6R2k99JZ312sFramItEQc3M2BJ2mAOIk7PZ2yfdiSatMan5o+AoCLFuLeK9hXhd/cSzSX7fhFszP1Sws7G6YxaVAAOSGOTvnfANSrVAgznAyeZwMn2mrqAwXNpHJtJGrjBGGUMMHGdj7B8K0d70QsCrEx6OfaDsoXPLbIXAyO7uroq1PSbhkVzAwktRc9X+MSEvoDyKDpUsTgZyR2tt96xcU90W069Wn8Emuxmln6EWuuNlL9X2i7dYuANOVIJHLNe206HWA7WgyAnK5kcjGAPmkA7gn31wlnGDaQ2T5RJOM9VPbHOIUOZBbBvnocKdQ5kmuu6ERLBdcSs4l0wxSwPGozpUzQ6pFXwGQDj11HVQ5Fzx+Ja/uS+Z0tlwuCEARxIuO8KoYnGMkgbnBPxr10pWSVjWlJyd27nFeUfilmIzaXN3PalkaVXjDqsuFdOqLBSHB1ZKZHzdxXP8AEZLEW9pLfXE1lciwCpHb9bCCvzVGldjlVOjI7sjYVKhFCM8/b76kxNT0Slneytmuc9cYUMmoYbOObDubGM+vNbelKAVSlYrqdY0Z3YKqgszHkABkk+oAE0BC/SY6+kUQXci4ss+4xOfsOanWoL8n6NxLjT3pB0IzzHI5Ljq4FP8AeAKfsGp0qGSKUpUAUpSgIStLgOkbHkQY2Gw+PhyP2j5la7hkzEPbscywnCNjJYbFOfMsNIIycnA5sK0Vhxpo42QoDyZdwO1scfEZz6j6Rqy/vy1wLmPbsAOpJAJyQw28Rp9mNq5McHNNq3Yb8q0dGmb+e8xHrTzXwxB3AYZ5+J3bHjux3NSP5MbsLw+PPNnnb9qeTH2YqHGu5JndUGes308yHPnMoUd5Gf8AQAlbopwe5jt400EAD5w0nck8u7nXQoQlCNmatWSk7o63jdpDewSW0wyki4PLKkHKsM/OVgGHrAqGOCcTueAXjwzAtExGsDk676ZY89/Pb2g4O4lwW0qjfPuBrneldpDcx9XcQucZ0uqHUh8QcfZyNXFR2HCeKwXUYlgkDqe8HkfAjmp9Rr2184NHc2Mhe2lkX+8quhI8GX/zW3g8pnE0GGljb1tGgP2AVkRYnmmagn5UuI+nF+wtV+VHiXpxfVrQE65pmoK+U/ifpRfVinym8U9KL6oUBOtazj3Blu0VTNNCyOHSSGQo6sAR6wwIJGCO+oe+UvinpR/VCnyk8V8U+pFASevQu1/BmtS8pLy9e05k/wDqOvGMSh8YDDAHL7zWw6P8Djs0dUeSR5HMkssrBpHcgDJIAGAAAABUQfKRxb0k+pFU+Uji3pJ9SKAnWlQV8pHFvST6kVX5SOLekn1IoCajA+chvHvY82O/uB+IFWPbOYmTUdRUhW1vs2+k5G47vGoX+Ufi3pJ9Qv8AKnyj8W9JfqB/KgsS/ccPmJbRMQCCB25MgZJHsOyjPhqq1+HzkH8bg6nIPWS8iSVGBjTjI8R6jyqIj5SeLemn1K/yqh8o3F22V190Ck/cam4sTjNMqKXdgqgZJJAUDxJOwFRB5QemjX7Dh9gGdWYKzKDmU52RBz05G578eAOrRSJxXiTATySlM/ODhB6wgHP3VJfQfo9a2A1pDI8xGGmdMHHeEXki/ae8naouLG18nvRUcNttDYM0mGmYcs47KA96qCR6yWPfXUVhjmJ+aR7qyisSStKUoBSlKA0p6JcOP/4UH1Sfyq+PoxYL5tnAP91H/KtvSgMEFlFH5kSL/sqo+6s9KUApilKAtKDwHwFWG3Q/MX9kVlpQGL8Gj9Bf2RVeoT0V+ArJSgLOqX0R8BTql9EfAVfSgLerXwHwFNA8B8BV1KAt0DwHwFNA8B8BV1KAt6seA+ApoHgPgKupQFugeA+ApoHgPgKupQFvVr4D4CgjX0R8BV1KApiq0pQClKUApSlAKUpQClKUApSlAKUpQClKUApSlAKUpQClKUApSlAKUpQClKUApSlAKUpQClKUApSlAKUpQH//2Q==" title="" alt="Time Timer® Original 12" 60 Minute Timer | Time Timer" data-align="center">

---

## requirements





---

## features







---

### main logic in this project





---

## important

### ISR - using flag





### Why we use UL(unsigned Long), Volatile?







### Prescaler Selection







### Precise '1 seconds' implementation







---

Thank you for reading my post.

And I attatch source code below.

Also, you can see this project in my github.



(My Github)[[GitHub - Donghyun-Kim-kr/AVR_based_digital_timeTimer: AVR (Atmega128a) based digital timeTimer style firmware &amp; device](https://github.com/Donghyun-Kim-kr/AVR_based_digital_timeTimer)]



---

## Code

```c
#define F_CPU 16000000UL

// Define states
#define IDLE 0
#define SETTING 1
#define RUNNING 2
#define PAUSE 3
#define ALARM 4

// notes (Alarm, button)
#define C 262
#define E 330
#define G 392

#include <avr/io.h>
#include <avr/interrupt.h>
#include <util/delay.h>

// 7segment digits 0~9
const unsigned char Segment_Data[] = {
	0x3F, 0x06, 0x5B, 0x4F, 0x66,
	0x6D, 0x7D, 0x27, 0x7F, 0x6F};

// Global variants
// timer 7-segment
char COLUMN[4] = {0, 0, 0, 0};
int Seg_number = 0;
int Seg_number12 = 0;
int Seg_number34 = 0;

// initial states
volatile int state = IDLE;
volatile unsigned char flag_button = 0;
volatile int total_seconds = 0;
volatile int set_seconds = 0;
volatile unsigned char timer_tick = 0;
volatile unsigned int mute = 0;

// Function declaration
void Initialize_IO(void);
void Initialize_Timer(void);
void Initialize_PWM(void);
void initialize_adc(void);
void startConversion(void);
unsigned int readConvertData(void);
int adc_to_seconds(unsigned int adc_value);
void Show4Digit(int number);
void ShowDigit(int digit_value, int position);
void Run(void);
void setting_mode_feedback(void);
void play_tone(unsigned int freq, unsigned int duration_ms);
void play_button_sound(void);
void play_alarm(void);
void sound_off(void);
void display_text_SET(void);
void display_text_DONE(void);
void display_text_MUTE(void);
void display_text_BEEP(void);
void select_sound_mode(void);

int main(void)
{
	Initialize_IO();
	Initialize_Timer();
	Initialize_PWM();
	initialize_adc();

	SREG |= 0x80;

	state = IDLE;

	while (1)
	{
		// State transition
		if (flag_button != 0)
		{
			_delay_ms(50); // Debouncing

			// ISR0 : Start/Pause
			if (flag_button & (1 << 0))
			{
				play_button_sound();

				if (state == IDLE)
				{
					state = RUNNING;
				}
				else if (state == RUNNING)
				{
					state = PAUSE;
				}
				else if (state == PAUSE)
				{
					state = RUNNING;
				}
				flag_button = 0;
			}
			// ISR1 : Reset
			else if (flag_button & (1 << 1))
			{
				play_button_sound();

				state = IDLE;
				total_seconds = 0;
				flag_button = 0;
			}
			// ISR2 : Time setting
			else if (flag_button & (1 << 2))
			{
				play_button_sound();

				if (state == IDLE)
				{
					display_text_SET();
					state = SETTING;
				}
				else if (state == SETTING)
				{
					total_seconds = set_seconds;
					display_text_DONE();
					state = IDLE;
				}
				flag_button = 0;
			}
			// ISR3 : Sound / mute
			else if (flag_button & (1 << 3))
			{
				play_button_sound();

				mute = ~mute;

				if (mute != 0)
				{
					display_text_MUTE();
				}
				else
				{
					display_text_BEEP();
				}
				flag_button = 0;
			}

			flag_button = 0;
		}

		// timer - 1 second
		if (timer_tick)
		{
			timer_tick = 0;

			if (state == RUNNING)
			{
				if (total_seconds > 0)
				{
					total_seconds--;
				}
				else
				{ // time over
					state = ALARM;
					play_alarm();
					state = IDLE;
					total_seconds = 0; // protect errors
				}
			}
		}

		Run();

		// 7-Segment display
		Seg_number = Seg_number12 * 100 + Seg_number34;
		Show4Digit(Seg_number);
	}
}

// Initialize setting
void Initialize_IO(void)
{
	DDRC = 0xFF;					 // 7-Segment Digit
	DDRA = 0xFF;					 // 7-Segment Data
	DDRG |= (1 << PG0) | (1 << PG1); // LED

	// External interrupt (INT0, INT1, INT2,INT3)
	EICRA = 0xFF; // rising edge
	EIMSK = 0x0F; // INT0, INT1, INT2, INT3 activate

	PORTC = 0x00;
	PORTA = 0x00;
	PORTG = 0x00;
}

void Initialize_Timer(void)
{
	TCCR1B = (1 << WGM12) | (1 << CS12) | (1 << CS10); // CTC, prescaler 1024
	OCR1A = 15624;									   // 16MHz / 1024 / 1Hz - 1
	TIMSK = (1 << OCIE1A);
}

void Initialize_PWM(void)
{
	DDRB |= (1 << PB4); // OC0
}

void initialize_adc(void)
{
	ADCSRA = 0x00;
	ADMUX = 0x00;  // ADC0
	ADCSRA = 0x87; // ADC activate, prescaler 128
}

// ADC conversion (Voltage - seconds)
void startConversion(void)
{
	ADCSRA |= (1 << ADSC);
}

unsigned int readConvertData(void)
{
	while ((ADCSRA & (1 << ADIF)) == 0)
		;				   // escape when ADC interrupt flag rise
	ADCSRA |= (1 << ADIF); // interrupt flag reset
	return ADC;
}

int adc_to_seconds(unsigned int adc_value)
{
	// 0~1023 → 0~3600s (0~60m)
	unsigned long sec = ((unsigned long)adc_value * 3600UL) / 1023UL;
	if (sec > 3600)
		sec = 3600;
	return (int)sec;
}

// 7-Segment 4 digits display
void Show4Digit(int number)
{
	COLUMN[0] = number / 1000;
	COLUMN[1] = (number % 1000) / 100;
	COLUMN[2] = (number % 100) / 10;
	COLUMN[3] = number % 10;

	for (int i = 0; i < 4; i++)
	{
		ShowDigit(COLUMN[i], i);
		_delay_ms(2);
	}
}

void ShowDigit(int digit_value, int position)
{
	PORTC = ~(0x01 << position);

	// MM.SS format
	if (position == 1)
	{
		PORTA = Segment_Data[digit_value] | 0x80;
	}
	else
	{
		PORTA = Segment_Data[digit_value];
	}
}

// Run by state
void Run(void)
{

	switch (state)
	{
	case IDLE:
	case RUNNING:
	case PAUSE:
		// total_seconds -> MM.SS
		Seg_number12 = total_seconds / 60;
		Seg_number34 = total_seconds % 60;
		break;

	case SETTING:
		setting_mode_feedback();
		break;

	case ALARM:
		// Seg_number12 = 0;
		// Seg_number34 = 0;

		// LED & Alarm sound
		break;
	}
}

void setting_mode_feedback(void)
{
	startConversion();
	unsigned int adc_value = readConvertData();
	set_seconds = adc_to_seconds(adc_value);

	// MM.SS
	Seg_number12 = set_seconds / 60;
	Seg_number34 = set_seconds % 60;
}

// PWM play sound
void play_tone(unsigned int freq, unsigned int duration_ms)
{
	if (freq == 0)
		return;

	TCCR0 = (1 << WGM01) | (1 << COM00) | (1 << CS02); // CTC, Toggle OC0, prescaler 64

	// calculate frequency
	unsigned long ocr_value = F_CPU / (2UL * 64UL * (unsigned long)freq) - 1;
	if (ocr_value > 255)
		ocr_value = 255;
	if (ocr_value < 1)
		ocr_value = 1;
	OCR0 = (unsigned char)ocr_value;

	// wait for duration
	for (unsigned int i = 0; i < duration_ms / 10; i++)
	{
		_delay_ms(10);
	}

	sound_off();
}

void sound_off(void)
{
	TCCR0 = 0;
	PORTB &= ~(1 << PB4);
}

void play_button_sound(void)
{
	play_tone(1000, 100); // 1kHz, 100ms
}

void play_alarm(void)
{
	if (mute != 0)
	{
		// Mute mode
		for (int i = 0; i < 2; i++)
		{
			PORTG |= (1 << PG0) | (1 << PG1); // LED ON
			_delay_ms(200);
			PORTG &= ~((1 << PG0) | (1 << PG1)); // LED OFF
			_delay_ms(200);
		}
	}
	else
	{
		// Beef mode
		PORTG &= ~((1 << PG0) | (1 << PG1)); // LED off
		for (int i = 0; i < 2; i++)
		{
			play_tone(C * 2, 200);
			play_tone(E * 2, 200);
			play_tone(G * 2, 300);
		}
	}
}

// mode select display
void display_text_SET(void)
{
	for (int k = 0; k < 100; k++)
	{
		PORTC = ~(1 << 0);
		PORTA = 0x6D; // S
		_delay_ms(5);
		PORTC = ~(1 << 1);
		PORTA = 0x79; // E
		_delay_ms(5);
		PORTC = ~(1 << 2);
		PORTA = 0x78; // t
		_delay_ms(5);
		PORTC = ~(1 << 3);
		PORTA = 0x80; // .
		_delay_ms(5);
	}
}

void display_text_DONE(void)
{
	for (int k = 0; k < 100; k++)
	{
		PORTC = ~(1 << 0);
		PORTA = 0x5E; // d
		_delay_ms(5);
		PORTC = ~(1 << 1);
		PORTA = 0x3F; // O
		_delay_ms(5);
		PORTC = ~(1 << 2);
		PORTA = 0x37; // n
		_delay_ms(5);
		PORTC = ~(1 << 3);
		PORTA = 0x79; // E
		_delay_ms(5);
	}
}

void display_text_MUTE(void)
{
	for (int k = 0; k < 100; k++)
	{
		PORTC = ~(1 << 0);
		PORTA = 0x37; // n (replace m -> n)
		_delay_ms(5);
		PORTC = ~(1 << 1);
		PORTA = 0x3E; // U
		_delay_ms(5);
		PORTC = ~(1 << 2);
		PORTA = 0x78; // t
		_delay_ms(5);
		PORTC = ~(1 << 3);
		PORTA = 0x79; // E
		_delay_ms(5);
	}
}

void display_text_BEEP(void)
{
	for (int k = 0; k < 100; k++)
	{
		PORTC = ~(1 << 0);
		PORTA = 0x7C; // b
		_delay_ms(5);
		PORTC = ~(1 << 1);
		PORTA = 0x79; // E
		_delay_ms(5);
		PORTC = ~(1 << 2);
		PORTA = 0x79; // E
		_delay_ms(5);
		PORTC = ~(1 << 3);
		PORTA = 0x73; // P
		_delay_ms(5);
	}
}

// Interrupt handler
ISR(INT0_vect)
{
	flag_button |= (1 << 0);
}

ISR(INT1_vect)
{
	flag_button |= (1 << 1);
}

ISR(INT2_vect)
{
	flag_button |= (1 << 2);
}

ISR(INT3_vect)
{
	flag_button |= (1 << 3);
}

ISR(TIMER1_COMPA_vect)
{
	timer_tick = 1;
}
```
















